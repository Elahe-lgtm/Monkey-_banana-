class State:
    def __init__(self, monkey_room, banana_room, box_room, has_box):
        self.monkey_room = monkey_room
        self.banana_room = banana_room
        self.box_room = box_room
        self.has_box = has_box

    def __eq__(self, other):
        return self.__dict__ == other.__dict__

    def __str__(self):
        return f"Ù…ÛŒÙ…ÙˆÙ† Ø¯Ø± Ø§ØªØ§Ù‚ {self.monkey_room} | Ù…ÙˆØ² Ø¯Ø± Ø§ØªØ§Ù‚ {self.banana_room} | Ø¬Ø¹Ø¨Ù‡ Ø¯Ø± Ø§ØªØ§Ù‚ {self.box_room} | Ø¬Ø¹Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ù…ÛŒÙ…ÙˆÙ†: {'Ø¨Ù„Ù‡' if self.has_box else 'Ø®ÛŒØ±'}"

def move_monkey(current_state, target_room):
    if current_state.monkey_room == target_room:
        return None  # Ø­Ø±Ú©Øª Ù†Ø§Ù…Ù…Ú©Ù†
    new_state = State(target_room, current_state.banana_room, current_state.box_room, current_state.has_box)
    return new_state

def move_box(current_state, target_room):
    if current_state.monkey_room != current_state.box_room or current_state.has_box:
        return None  # Ø­Ø±Ú©Øª Ù†Ø§Ù…Ù…Ú©Ù†
    new_state = State(current_state.monkey_room, current_state.banana_room, target_room, False)
    return new_state

def climb_box(current_state):
    if current_state.monkey_room == current_state.box_room and not current_state.has_box:
        new_state = State(current_state.monkey_room, current_state.banana_room, current_state.box_room, True)
        return new_state
    return None  # Ø¨Ø±Ø¯Ø§Ø´ØªÙ† Ø¬Ø¹Ø¨Ù‡ Ù†Ø§Ù…Ù…Ú©Ù†

def reach_banana(current_state):
    return current_state.has_box and current_state.monkey_room == current_state.banana_room

# ØªØ³Øª Ú©Ø¯ Ø¨Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø®Ø·Ø§Ù‡Ø§
initial_state = State(1, 3, 2, False)
print("ÙˆØ¶Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡:")
print(initial_state)

# Ø­Ø±Ú©Øª Ù…ÛŒÙ…ÙˆÙ† Ø¨Ù‡ Ø§ØªØ§Ù‚ Û²
state = move_monkey(initial_state, 2)
if state is None:
    print("\nâ— Ø­Ø±Ú©Øª Ù…ÛŒÙ…ÙˆÙ† Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª!")
else:
    print("\nØ¨Ø¹Ø¯ Ø§Ø² Ø­Ø±Ú©Øª Ù…ÛŒÙ…ÙˆÙ† Ø¨Ù‡ Ø§ØªØ§Ù‚ Û²:")
    print(state)

# Ø­Ø±Ú©Øª Ø¬Ø¹Ø¨Ù‡ Ø¨Ù‡ Ø§ØªØ§Ù‚ Û³ (Ø§Ú¯Ø± state None Ù†Ø¨Ø§Ø´Ø¯)
if state is not None:
    new_state = move_box(state, 3)
    if new_state is None:
        print("\nâ— Ø­Ø±Ú©Øª Ø¬Ø¹Ø¨Ù‡ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª!")
    else:
        state = new_state
        print("\nØ¨Ø¹Ø¯ Ø§Ø² Ø­Ø±Ú©Øª Ø¬Ø¹Ø¨Ù‡ Ø¨Ù‡ Ø§ØªØ§Ù‚ Û³:")
        print(state)
else:
    print("\nâ— Ø­Ø±Ú©Øª Ø¬Ø¹Ø¨Ù‡ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª!")

# Ø¨Ø±Ø¯Ø§Ø´ØªÙ† Ø¬Ø¹Ø¨Ù‡ (Ø§Ú¯Ø± state None Ù†Ø¨Ø§Ø´Ø¯)
if state is not None:
    new_state = climb_box(state)
    if new_state is None:
        print("\nâ— Ø¨Ø±Ø¯Ø§Ø´ØªÙ† Ø¬Ø¹Ø¨Ù‡ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª!")
    else:
        state = new_state
        print("\nØ¨Ø¹Ø¯ Ø§Ø² Ø¨Ø±Ø¯Ø§Ø´ØªÙ† Ø¬Ø¹Ø¨Ù‡:")
        print(state)
else:
    print("\nâ— Ø¨Ø±Ø¯Ø§Ø´ØªÙ† Ø¬Ø¹Ø¨Ù‡ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª!")

# Ø­Ø±Ú©Øª Ø¨Ù‡ Ø§ØªØ§Ù‚ Û³ (Ø§Ú¯Ø± state None Ù†Ø¨Ø§Ø´Ø¯)
if state is not None:
    new_state = move_monkey(state, 3)
    if new_state is None:
        print("\nâ— Ø­Ø±Ú©Øª Ø¨Ù‡ Ø§ØªØ§Ù‚ Û³ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª!")
    else:
        state = new_state
        print("\nØ¨Ø¹Ø¯ Ø§Ø² Ø­Ø±Ú©Øª Ø¨Ù‡ Ø§ØªØ§Ù‚ Û³:")
        print(state)
else:
    print("\nâ— Ø­Ø±Ú©Øª Ø¨Ù‡ Ø§ØªØ§Ù‚ Û³ Ù…Ù…Ú©Ù† Ù†ÛŒØ³Øª!")

# Ø¨Ø±Ø±Ø³ÛŒ Ù†Ù‡Ø§ÛŒÛŒ
if state is not None and reach_banana(state):
    print("\nğŸ‰ Ù…ÛŒÙ…ÙˆÙ† Ù…ÙˆØ² Ø±Ø§ Ú¯Ø±ÙØª!")
else:
    print("\nâŒ Ù…ÛŒÙ…ÙˆÙ† Ù†ØªÙˆØ§Ù†Ø³Øª Ù…ÙˆØ² Ø±Ø§ Ø¨Ú¯ÛŒØ±Ø¯!")